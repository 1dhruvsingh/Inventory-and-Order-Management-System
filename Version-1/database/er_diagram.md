# Entity-Relationship Diagram for Smart Inventory and Order Management System

## Entities and Relationships

### Users
- **Attributes**: user_id (PK), username, password, email, full_name, role, phone, created_at, last_login, status
- **Relationships**:
  - One User can create many Orders (1:N)
  - One User can generate many Reports (1:N)
  - One User can create many StockLogs (1:N)
  - One User can receive many Notifications (1:N)

### Products
- **Attributes**: product_id (PK), product_name, description, category, unit_price, stock_quantity, reorder_level, supplier_id (FK), sku, image_url, created_at, updated_at, status
- **Relationships**:
  - Many Products can be supplied by one Supplier (N:1)
  - One Product can be in many OrderDetails (1:N)
  - One Product can have many StockLogs (1:N)

### Suppliers
- **Attributes**: supplier_id (PK), supplier_name, contact_person, email, phone, address, city, state, postal_code, country, created_at, updated_at, status
- **Relationships**:
  - One Supplier can supply many Products (1:N)

### Customers
- **Attributes**: customer_id (PK), customer_name, email, phone, address, city, state, postal_code, country, created_at, updated_at, status
- **Relationships**:
  - One Customer can place many Orders (1:N)

### Orders
- **Attributes**: order_id (PK), customer_id (FK), user_id (FK), order_date, total_amount, status, shipping_address, shipping_city, shipping_state, shipping_postal_code, shipping_country, notes
- **Relationships**:
  - One Order belongs to one Customer (1:1)
  - One Order is created by one User (1:1)
  - One Order can have many OrderDetails (1:N)
  - One Order can have many Payments (1:N)

### OrderDetails
- **Attributes**: order_detail_id (PK), order_id (FK), product_id (FK), quantity, unit_price, subtotal, discount
- **Relationships**:
  - Many OrderDetails belong to one Order (N:1)
  - Many OrderDetails reference one Product (N:1)

### Payments
- **Attributes**: payment_id (PK), order_id (FK), payment_date, amount, payment_method, transaction_id, status, notes
- **Relationships**:
  - Many Payments can be made for one Order (N:1)

### StockLogs
- **Attributes**: log_id (PK), product_id (FK), user_id (FK), change_quantity, previous_quantity, new_quantity, change_type, reference_id, log_date, notes
- **Relationships**:
  - Many StockLogs are associated with one Product (N:1)
  - Many StockLogs are created by one User (N:1)

### Notifications
- **Attributes**: notification_id (PK), user_id (FK), title, message, type, reference_id, is_read, created_at
- **Relationships**:
  - Many Notifications can be sent to one User (N:1)

### Reports
- **Attributes**: report_id (PK), user_id (FK), report_name, report_type, parameters, result_data, created_at
- **Relationships**:
  - Many Reports are generated by one User (N:1)

## Cardinality Constraints

- Users to Orders: 1:N (One user can create many orders)
- Users to Reports: 1:N (One user can generate many reports)
- Users to StockLogs: 1:N (One user can create many stock logs)
- Users to Notifications: 1:N (One user can receive many notifications)
- Suppliers to Products: 1:N (One supplier can supply many products)
- Products to OrderDetails: 1:N (One product can be in many order details)
- Products to StockLogs: 1:N (One product can have many stock logs)
- Customers to Orders: 1:N (One customer can place many orders)
- Orders to OrderDetails: 1:N (One order can have many order details)
- Orders to Payments: 1:N (One order can have many payments)
- OrderDetails to Products: N:1 (Many order details can reference one product)
- OrderDetails to Orders: N:1 (Many order details belong to one order)
- Payments to Orders: N:1 (Many payments can be made for one order)
- StockLogs to Products: N:1 (Many stock logs are associated with one product)
- StockLogs to Users: N:1 (Many stock logs are created by one user)
- Notifications to Users: N:1 (Many notifications can be sent to one user)
- Reports to Users: N:1 (Many reports are generated by one user)

## Note

This ER diagram represents the logical structure of the Smart Inventory and Order Management System database. The physical implementation is defined in the schema.sql file with appropriate foreign key constraints to enforce these relationships.